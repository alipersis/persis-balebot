import os
from flask import Flask, request
import requests

app = Flask(__name__)

BOT_TOKEN = os.getenv("BOT_TOKEN")
ADMIN_ID = os.getenv("ADMIN_ID")
API_URL = f"https://tapi.bale.ai/bot{BOT_TOKEN}"

user_states = {}

def send_message(chat_id, text, button_text=None, button_url=None):
    url = f"{API_URL}/sendMessage"
    data = {
        "chat_id": chat_id,
        "text": text,
        "parse_mode": "HTML"
    }
    if button_text and button_url:
        data["reply_markup"] = {
            "inline_keyboard": [
                [{"text": button_text, "url": button_url}]
            ]
        }
    requests.post(url, json=data)

@app.route("/webhook", methods=["POST"])
def webhook():
    data = request.get_json()
    message = data.get("message", {})
    text = message.get("text", "")
    chat_id = message.get("chat", {}).get("id")

    if not chat_id or not text:
        return "ignored", 200

    # Ø¯Ø³ØªÙˆØ± /start
    if text == "/start":
        user_states[chat_id] = "main_menu"
        send_message(chat_id,
                     "ğŸ‰ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯! Ù„Ø·ÙØ§Ù‹ ÛŒÚ©ÛŒ Ø§Ø² Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:\n"
                     "1- Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ\n"
                     "2- Ú©Ø§Ø±Ø¢Ù…ÙˆØ²ÛŒ\n"
                     "3- Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ")
        return "ok", 200

    # Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ
    if user_states.get(chat_id) == "main_menu":
        if text == "1":
            user_states[chat_id] = "course_type"
            send_message(chat_id,
                         "Ù†ÙˆØ¹ Ø¯ÙˆØ±Ù‡ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:\n"
                         "1- Ø¢Ù†Ù„Ø§ÛŒÙ†\n"
                         "2- Ø¢ÙÙ„Ø§ÛŒÙ†")
        elif text == "2":
            send_message(chat_id, "Ø¨Ø±Ø§ÛŒ Ø·ÛŒ Ø¯ÙˆØ±Ù‡ Ú©Ø§Ø±Ø¢Ù…ÙˆØ²ÛŒ Ø¨Ø§ Ø´Ø±Ú©Øª ØªÙ…Ø§Ø³ Ø¨Ú¯ÛŒØ±ÛŒØ¯: â˜ï¸ 02133348963")
        elif text == "3":
            send_message(chat_id, "Ø¨Ø±Ø§ÛŒ Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ø§Ø¯Ù…ÛŒÙ† Ø¨Ù‡ Ø¢ÛŒØ¯ÛŒ Ø²ÛŒØ± Ù¾ÛŒØ§Ù… Ø¯Ù‡ÛŒØ¯:\n@persisadmin")
        else:
            send_message(chat_id, "Ù„Ø·ÙØ§Ù‹ ÛŒÚ©ÛŒ Ø§Ø² Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ø¹Ø¯Ø¯ÛŒ 1 ØªØ§ 3 Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.")
        return "ok", 200

    # Ø§Ù†ØªØ®Ø§Ø¨ Ù†ÙˆØ¹ Ø¯ÙˆØ±Ù‡
    if user_states.get(chat_id) == "course_type":
        if text == "1":
            user_states[chat_id] = "online_courses"
            send_message(chat_id,
                         "ğŸ“š Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ†:\n"
                         "1- Ú˜Ø¦ÙˆÙ„Ø§Ú¯\n"
                         "2- Ù¾ØªØ±Ù„\n"
                         "3- Ø§Ú©Ù„ÛŒÙ¾Ø³\n"
                         "4- Ù„Ù†Ø¯Ù…Ø§Ø±Ú©\n"
                         "5- Ø³ÙÛŒØ±")
        elif text == "2":
            user_states[chat_id] = "offline_courses"
            send_message(chat_id,
                         "ğŸ“¦ Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢ÙÙ„Ø§ÛŒÙ†:\n"
                         "1- Ú˜Ø¦ÙˆÙ„Ø§Ú¯\n"
                         "2- Ù¾ØªØ±Ù„\n"
                         "3- Ø§Ú©Ù„ÛŒÙ¾Ø³\n"
                         "4- Ù„Ù†Ø¯Ù…Ø§Ø±Ú©\n"
                         "5- Ø³ÙÛŒØ±\n"
                         "6- Ù‡Ù…Ù¾Ø³ÙˆÙ† Ø±Ø§Ø³Ù„\n"
                         "7- Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ù¾ØªØ±ÙˆÙÛŒØ²ÛŒÚ©ÛŒ")
        else:
            send_message(chat_id, "Ù„Ø·ÙØ§Ù‹ ÙÙ‚Ø· Ø¹Ø¯Ø¯ 1 ÛŒØ§ 2 Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.")
        return "ok", 200

    # Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ†
    if user_states.get(chat_id) == "online_courses":
        courses = {
            "1": "ğŸ“ Ø¯ÙˆØ±Ù‡ Ø¬Ø§Ù…Ø¹ Ø¢Ù†Ù„Ø§ÛŒÙ† Ú˜Ø¦ÙˆÙ„Ø§Ú¯ â€“ Ú©Ø¯ 1116\n"
                 "ğŸ”¸ 29-30-6 Ù…Ø±Ø¯Ø§Ø¯ Ùˆ Ø´Ù‡Ø±ÛŒÙˆØ±\n"
                 "ğŸ”¸ Ù…Ø¯Ø±Ø³: Ø³ÛŒØ¯ Ø¹Ù„ÛŒ Ø¬Ø¹ÙØ±ÛŒ\n"
                 "ğŸ”¸ ØªØµØ­ÛŒØ­Ø§Øª Ù…Ø­ÛŒØ·ÛŒØŒ ØªØ­Ù„ÛŒÙ„ ØªØ®Ù„Ø®Ù„/ØªØ±Ø§ÙˆØ§ÛŒÛŒ Ùˆ ØªØ¹ÛŒÛŒÙ† Ù„ÛŒØªÙˆÙ„ÙˆÚ˜ÛŒ\n"
                 "ğŸ”¸ Ø±ÙˆØ´â€ŒÙ‡Ø§ÛŒ Ù‚Ø·Ø¹ÛŒ Ùˆ Ø§Ø­ØªÙ…Ø§Ù„ÛŒ (Multi-min)\n"
                 "ğŸ“ Ù…Ø¯Ø±Ú© Ø¨ÛŒÙ†â€ŒØ§Ù„Ù…Ù„Ù„ÛŒ\n"
                 "ğŸ’° Ø´Ù‡Ø±ÛŒÙ‡: ØªÙ†Ù‡Ø§ 2,200,000 ØªÙˆÙ…Ø§Ù† (Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒÛŒ)",
            "2": "ğŸ“ Ø¯ÙˆØ±Ù‡ Ø¬Ø§Ù…Ø¹ Ø¢Ù…ÙˆØ²Ø´ Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø± Petrel\n"
                 "ğŸ‘¨â€ğŸ« Ù…Ø¯Ø±Ø³: Ø³ÛŒØ¯ Ø¬ÙˆØ§Ø¯ Ø¬Ø¹ÙØ±ÛŒ\n"
                 "â± 11-12-19 Ù…Ø±Ø¯Ø§Ø¯\n"
                 "ğŸ“š ÙˆØ±ÙˆØ¯ Ø¯Ø§Ø¯Ù‡ Ú†Ø§Ù‡ØŒ horizonØŒ Ù…Ø¯Ù„â€ŒØ³Ø§Ø²ÛŒØŒ OIP Ùˆ ...\n"
                 "ğŸ“ Ù…Ø¯Ø±Ú© Ø¨ÛŒÙ†â€ŒØ§Ù„Ù…Ù„Ù„ÛŒ\n"
                 "ğŸ’° Ø´Ù‡Ø±ÛŒÙ‡: Û²Û² Ù…ÛŒÙ„ÛŒÙˆÙ† Ø±ÛŒØ§Ù„ | Ù…Ø¯Ø±Ú©: Û²Û° Ù…ÛŒÙ„ÛŒÙˆÙ† Ø±ÛŒØ§Ù„",
            "3": "ğŸ“ Ø¯ÙˆØ±Ù‡ Ø¬Ø§Ù…Ø¹ Ø¢Ù…ÙˆØ²Ø´ Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø± Eclipse\n"
                 "ğŸ‘¨â€ğŸ« Ù…Ø¯Ø±Ø³: Ø³ÛŒØ¯ Ø¬ÙˆØ§Ø¯ Ø¬Ø¹ÙØ±ÛŒ\n"
                 "â± 1-2-25-26 Ø®Ø±Ø¯Ø§Ø¯ Ùˆ ØªÛŒØ±\n"
                 "ğŸ“š FlovizØŒ GridØŒ ScheduleØŒ RunSpec Ùˆ ...\n"
                 "ğŸ“ Ù…Ø¯Ø±Ú© Ø¨ÛŒÙ†â€ŒØ§Ù„Ù…Ù„Ù„ÛŒ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)\n"
                 "ğŸ’° Ø´Ù‡Ø±ÛŒÙ‡: Û²Û± Ù…ÛŒÙ„ÛŒÙˆÙ† Ø±ÛŒØ§Ù„ | Ù…Ø¯Ø±Ú©: Û²Û° Ù…ÛŒÙ„ÛŒÙˆÙ† Ø±ÛŒØ§Ù„",
            "4": "ğŸ“ Ø¯ÙˆØ±Ù‡ Ø¢Ù…ÙˆØ²Ø´ Landmark\n"
                 "ğŸ‘¨â€ğŸ« Ù…Ø¯Ø±Ø³: Ø³ÛŒØ¯ Ø¹Ù„ÛŒ Ø¬Ø¹ÙØ±ÛŒ\n"
                 "â± 18-19-26 ØªÛŒØ±\n"
                 "ğŸ“š Ø·Ø±Ø§Ø­ÛŒ Ù…Ø³ÛŒØ± Ø­ÙØ§Ø±ÛŒØŒ Ø¢Ù†Ø§Ù„ÛŒØ² Ù‡ÛŒØ¯Ø±ÙˆÙ„ÛŒÚ©ØŒ Wellplan Ùˆ ...\n"
                 "ğŸ“ Ù…Ø¯Ø±Ú© Ø¨ÛŒÙ†â€ŒØ§Ù„Ù…Ù„Ù„ÛŒ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)\n"
                 "ğŸ’° Ø´Ù‡Ø±ÛŒÙ‡: 2,050,000 ØªÙˆÙ…Ø§Ù† | Ù…Ø¯Ø±Ú©: 2,000,000 ØªÙˆÙ…Ø§Ù†",
            "5": "ğŸ“ Ø¯ÙˆØ±Ù‡ Ø¢Ù…ÙˆØ²Ø´ Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø± Ø³ÙÛŒØ±\n"
                 "ğŸ‘¨â€ğŸ« Ù…Ø¯Ø±Ø³: Ø³ÛŒØ¯ Ø¬ÙˆØ§Ø¯ Ø¬Ø¹ÙØ±ÛŒ\n"
                 "â± 8-9 Ù…Ø±Ø¯Ø§Ø¯\n"
                 "ğŸ“š Two PorosityØŒ GasØŒ Numerical Ùˆ ...\n"
                 "ğŸ“ Ù…Ø¯Ø±Ú© Ø¨ÛŒÙ†â€ŒØ§Ù„Ù…Ù„Ù„ÛŒ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)\n"
                 "ğŸ’° Ø´Ù‡Ø±ÛŒÙ‡: 2,100,000 ØªÙˆÙ…Ø§Ù† | Ù…Ø¯Ø±Ú©: 2,000,000 ØªÙˆÙ…Ø§Ù†"
        }
        if text in courses:
            user_states[chat_id] = None
            send_message(chat_id,
                         f"{courses[text]}\n\n"
                         "ğŸ“¥ Ø¬Ù‡Øª Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ø²ÛŒØ± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ ÛŒØ§ Ø¨Ø§ Ø´Ù…Ø§Ø±Ù‡ 02133348963 ØªÙ…Ø§Ø³ Ø¨Ú¯ÛŒØ±ÛŒØ¯.",
                         button_text="ğŸ“¥ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¯Ø± Ø³Ø§ÛŒØª",
                         button_url="https://www.petropersis.ir")
        else:
            send_message(chat_id, "Ù„Ø·ÙØ§Ù‹ Ø¹Ø¯Ø¯ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ ÛŒÚ©ÛŒ Ø§Ø² Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.")
        return "ok", 200

    # Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢ÙÙ„Ø§ÛŒÙ†
    if user_states.get(chat_id) == "offline_courses":
        courses = {
            "1": "ğŸ“ Ø¯ÙˆØ±Ù‡ Ø¬Ø§Ù…Ø¹ Ø¢ÙÙ„Ø§ÛŒÙ† Ú˜Ø¦ÙˆÙ„Ø§Ú¯\n"
                 "ğŸ”¸ 16 Ø³Ø§Ø¹Øª Ø¢Ù…ÙˆØ²Ø´ (4 Ø¬Ù„Ø³Ù‡)\n"
                 "ğŸ”¸ Ù…Ø¯Ø±Ø³: Ø³ÛŒØ¯ Ø¹Ù„ÛŒ Ø¬Ø¹ÙØ±ÛŒ\n"
                 "ğŸ”¸ ØªØµØ­ÛŒØ­Ø§Øª Ù…Ø­ÛŒØ·ÛŒØŒ ØªØ­Ù„ÛŒÙ„ ØªØ®Ù„Ø®Ù„/ØªØ±Ø§ÙˆØ§ÛŒÛŒ Ùˆ ØªØ¹ÛŒÛŒÙ† Ù„ÛŒØªÙˆÙ„ÙˆÚ˜ÛŒ\n"
                 "ğŸ”¸ Ø±ÙˆØ´â€ŒÙ‡Ø§ÛŒ Ù‚Ø·Ø¹ÛŒ Ùˆ Ø§Ø­ØªÙ…Ø§Ù„ÛŒ (Multi-min)\n"
                 "ğŸ“ Ù…Ø¯Ø±Ú© Ø¨ÛŒÙ†â€ŒØ§Ù„Ù…Ù„Ù„ÛŒ\n"
                 "ğŸ’° Ø´Ù‡Ø±ÛŒÙ‡: 4,150,000 ØªÙˆÙ…Ø§Ù† (Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒÛŒ + Ù…Ø¯Ø±Ú©)",
            "2": "ğŸ“ Ø¯ÙˆØ±Ù‡ Ø¢ÙÙ„Ø§ÛŒÙ† Petrel\n"
                 "ğŸ”¸ Ù…Ø¯Ø±Ø³: Ø³ÛŒØ¯ Ø¬ÙˆØ§Ø¯ Ø¬Ø¹ÙØ±ÛŒ\n"
                 "ğŸ”¸ ÙˆØ±ÙˆØ¯ Ø¯Ø§Ø¯Ù‡ Ú†Ø§Ù‡ØŒ horizonØŒ Ù…Ø¯Ù„â€ŒØ³Ø§Ø²ÛŒØŒ OIP Ùˆ ...\n"
                 "ğŸ“ Ù…Ø¯Ø±Ú© Ø¨ÛŒÙ†â€ŒØ§Ù„Ù…Ù„Ù„ÛŒ\n"
                 "ğŸ’° Ø´Ù‡Ø±ÛŒÙ‡: 3,950,000 ØªÙˆÙ…Ø§Ù† (Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒÛŒ + Ù…Ø¯Ø±Ú©)",
            "3": "ğŸ“ Ø¯ÙˆØ±Ù‡ Ø¢ÙÙ„Ø§ÛŒÙ† Eclipse\n"
                 "ğŸ”¸ Ù…Ø¯Ø±Ø³: Ø³ÛŒØ¯ Ø¬ÙˆØ§Ø¯ Ø¬Ø¹ÙØ±ÛŒ\n"
                 "ğŸ”¸ FlovizØŒ GridØŒ ScheduleØŒ RunSpec Ùˆ ...\n"
                 "ğŸ“ Ù…Ø¯Ø±Ú© Ø¨ÛŒÙ†â€ŒØ§Ù„Ù…Ù„Ù„ÛŒ\n"
                 "ğŸ’° Ø´Ù‡Ø±ÛŒÙ‡: 4,000,000 ØªÙˆÙ…Ø§Ù† (Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒÛŒ + Ù…Ø¯Ø±Ú©)",
            "4": "ğŸ“ Ø¯ÙˆØ±Ù‡ Ø¢ÙÙ„Ø§ÛŒÙ† Landmark\n"
                 "ğŸ”¸ Ù…Ø¯Ø±Ø³: Ø³ÛŒØ¯ Ø¹Ù„ÛŒ Ø¬Ø¹ÙØ±ÛŒ\n"
                 "ğŸ”¸ Ø·Ø±Ø§Ø­ÛŒ Ù…Ø³ÛŒØ± Ø­ÙØ§Ø±ÛŒØŒ Ø¢Ù†Ø§Ù„ÛŒØ² Ù‡ÛŒØ¯Ø±ÙˆÙ„ÛŒÚ©ØŒ Wellplan Ùˆ ...\n"
                 "ğŸ“ Ù…Ø¯Ø±Ú© Ø¨ÛŒÙ†â€ŒØ§Ù„Ù…Ù„Ù„ÛŒ\n"
                 "ğŸ’° Ø´Ù‡Ø±ÛŒÙ‡: 3,800,000 ØªÙˆÙ…Ø§Ù† (Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒÛŒ + Ù…Ø¯Ø±Ú©)",
            "5": "ğŸ“ Ø¯ÙˆØ±Ù‡ Ø¢ÙÙ„Ø§ÛŒÙ† Ø³ÙÛŒØ±\n"
                 "ğŸ”¸ Ù…Ø¯Ø±Ø³: Ø³ÛŒØ¯ Ø¬ÙˆØ§Ø¯ Ø¬Ø¹ÙØ±ÛŒ\n"
                 "ğŸ”¸ Two PorosityØŒ GasØŒ Numerical Ùˆ ...\n"
                 "ğŸ“ Ù…Ø¯Ø±Ú© Ø¨ÛŒÙ†â€ŒØ§Ù„Ù…Ù„Ù„ÛŒ\n"
                 "ğŸ’° Ø´Ù‡Ø±ÛŒÙ‡: 3,750,000 ØªÙˆÙ…Ø§Ù† (Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒÛŒ + Ù…Ø¯Ø±Ú©)",
            "6": "ğŸ“ Ø¯ÙˆØ±Ù‡ Ø¢ÙÙ„Ø§ÛŒÙ† Ù‡Ù…Ù¾Ø³ÙˆÙ† Ø±Ø§Ø³Ù„\n"
                 "ğŸ”¸ Ù…Ø¯Ø±Ø³: Ø³ÛŒØ¯ Ø¹Ù„ÛŒ Ø¬Ø¹ÙØ±ÛŒ\n"
                 "ğŸ”¸ Ø¨Ø±Ø±Ø³ÛŒ Ù„Ø±Ø²Ù‡â€ŒØ§ÛŒØŒ Ù…Ø¹Ú©ÙˆØ³â€ŒØ³Ø§Ø²ÛŒØŒ Ø§Ø³ØªØ®Ø±Ø§Ø¬ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ Ùˆ ...\n"
                 "ğŸ“ Ù…Ø¯Ø±Ú© Ø¨ÛŒÙ†â€ŒØ§Ù„Ù…Ù„Ù„ÛŒ\n"
                 "ğŸ’° Ø´Ù‡Ø±ÛŒÙ‡: 4,100,000 ØªÙˆÙ…Ø§Ù† (Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒÛŒ + Ù…Ø¯Ø±Ú©)",
            "7": "ğŸ“ Ø¯ÙˆØ±Ù‡ Ø¢ÙÙ„Ø§ÛŒÙ† Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ù¾ØªØ±ÙˆÙÛŒØ²ÛŒÚ©ÛŒ\n"
                 "ğŸ”¸ Ù…Ø¯Ø±Ø³: Ø³ÛŒØ¯ Ø¹Ù„ÛŒ Ø¬Ø¹ÙØ±ÛŒ\n"
                 "ğŸ”¸ ØªÙØ³ÛŒØ± NPHIØŒ RHOBØŒ DTØŒ GR Ùˆ ØªØ±Ú©ÛŒØ¨ÛŒ\n"
                 "ğŸ“ Ù…Ø¯Ø±Ú© Ø¨ÛŒÙ†â€ŒØ§Ù„Ù…Ù„Ù„ÛŒ\n"
                 "ğŸ’° Ø´Ù‡Ø±ÛŒÙ‡: 3,650,000 ØªÙˆÙ…Ø§Ù† (Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒÛŒ + Ù…Ø¯Ø±Ú©)"
        }
        if text in courses:
            user_states[chat_id] = None
            send_message(chat_id,
                         f"{courses[text]}\n\n"
                         "ğŸ“¥ Ø¬Ù‡Øª Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ø²ÛŒØ± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ ÛŒØ§ Ø¨Ø§ Ø´Ù…Ø§Ø±Ù‡ 02133348963 ØªÙ…Ø§Ø³ Ø¨Ú¯ÛŒØ±ÛŒØ¯.",
                         button_text="ğŸ“¥ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¯Ø± Ø³Ø§ÛŒØª",
                         button_url="https://www.petropersis.ir")
        else:
            send_message(chat_id, "Ù„Ø·ÙØ§Ù‹ Ø¹Ø¯Ø¯ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ ÛŒÚ©ÛŒ Ø§Ø² Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.")
        return "ok", 200

    # Ø§Ú¯Ø± Ù‡ÛŒÚ† Ø´Ø±Ø·ÛŒ Ø§Ù†Ø¬Ø§Ù… Ù†Ø´Ø¯
    send_message(chat_id, "Ù„Ø·ÙØ§Ù‹ /start Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ ØªØ§ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´ÙˆØ¯.")
    return "ok", 200


if __name__ == "__main__":
    app.run(debug=True)
